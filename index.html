<!DOCTYPE html>
<html lang="fr">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Écran de verrouillage</title>
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black">
    <meta name="apple-mobile-web-app-title" content="BOS">
    <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1, user-scalable=no">
    <link rel="manifest" href="manifest.json">

    <style>
        /* Styles globaux */
        body {
            margin: 0;
            padding: 0;
            font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, Helvetica, Arial, sans-serif;
            background: linear-gradient(black, purple, red);
            background-size: cover;
            overflow: hidden;
            -webkit-user-select: none;
            -ms-user-select: none;
            user-select: none;
            -webkit-touch-callout: none;
            height: 100%;
            padding-top: env(safe-area-inset-top);
            padding-right: env(safe-area-inset-right);
            padding-bottom: env(safe-area-inset-bottom);
            padding-left: env(safe-area-inset-left);
        }

        /* Bouton principal */
        #main-btn {
            position: fixed;
            bottom: 120px;
            left: 50%;
            transform: translateX(-50%);
            width: 80px;
            height: 40px;
            background-color: rgba(0, 0, 0, 0.274);
            border: none;
            border-radius: 20px;
            cursor: pointer;
            z-index: 2100;
        }

        #main-btn::before {
            content: '';
            position: absolute;
            top: 50%;
            left: 50%;
            width: 30px;
            height: 3px;
            background-color: #fff;
            border-radius: 1.5px;
            transform: translate(-50%, -50%);
        }

        /* Écran de verrouillage */
        .lock-screen {
            position: relative;
            height: 100vh;
            display: flex;
            flex-direction: column;
            justify-content: center;
            align-items: center;
            color: #fff;
            text-align: center;
            background: linear-gradient(black, blue, orange);
        }

        .time-container {
            transition: filter 0.3s ease;
            position: absolute;
            top: 100px;
        }

        #time {
            font-size: 80px;
            font-weight: 200;
        }

        #date {
            font-size: 24px;
            font-weight: 300;
        }

        /* Digicode */
        .digicode {
            position: absolute;
            bottom: 25%;
            width: 100%;
        }

        .digicode.hidden {
            display: none;
        }

        .dots {
            display: flex;
            justify-content: center;
            margin-bottom: 20px;
        }

        .dot {
            width: 12px;
            height: 12px;
            border: 1px solid #fff;
            border-radius: 50%;
            margin: 0 5px;
        }

        .dot.filled {
            background-color: #fff;
        }

        .keypad {
            display: grid;
            grid-template-columns: repeat(3, 80px);
            grid-gap: 15px;
            justify-content: center;
        }

        .key,
        .clear {
            width: 80px;
            height: 80px;
            font-size: 24px;
            color: #fff;
            background-color: rgba(255, 255, 255, 0.1);
            border: none;
            border-radius: 40px;
            cursor: pointer;
        }

        .key-void {
            width: 80px;
            height: 80px;
            background: transparent;
            border: none;
        }

        .clear {
            font-size: 16px;
        }

        .home-screen.hidden {
            display: none;
        }

        /* Styles de l'écran d'accueil */
        .home-screen {
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: linear-gradient(black, purple, red);
            background-size: cover;
            overflow: hidden;
            transition: 0.2s;
        }

        /* Conteneur des pages */
        .pages {
            display: flex;
            width: 200%;
            height: calc(100% - 120px);
            /* Hauteur totale moins la barre des tâches */
            transition: transform 0.3s ease;
        }

        /* Chaque page */
        .page {
            width: 50%;
            display: flex;
            justify-content: center;
            align-items: center;
        }

        /* Grille des applications */
        .app-grid {
            display: grid;
            grid-template-columns: repeat(4, 1fr);
            grid-template-rows: repeat(6, 1fr);
            gap: 10px;
            width: 90%;
            height: 90%;
        }

        /* Application individuelle */
        .app {
            display: flex;
            flex-direction: column;
            align-items: center;
            opacity: 0;
            transform: scale(0.8);
            animation: app-entry 0.5s forwards;
            animation-delay: calc(var(--app-order) * 0.05s);
        }

        .app img {
            width: 60px;
            height: 60px;
            border-radius: 15px;
        }

        .app span {
            margin-top: 5px;
            font-size: 12px;
            color: #fff;
        }

        /* Barre des tâches (dock) */
        .dock {
            position: absolute;
            bottom: 20px;
            left: 50%;
            transform: translateX(-50%);
            width: 90%;
            display: flex;
            justify-content: space-around;
            align-items: center;
            background: rgba(255, 255, 255, 0.2);
            padding: 10px;
            border-radius: 20px;
            backdrop-filter: blur(10px);
        }

        .dock-app img {
            width: 60px;
            height: 60px;
            border-radius: 15px;
        }

        /* Indicateurs de page */
        .page-indicators {
            position: absolute;
            bottom: 170px;
            left: 50%;
            transform: translateX(-50%);
            display: flex;
            gap: 10px;
        }

        .indicator {
            width: 8px;
            height: 8px;
            background-color: rgba(255, 255, 255, 0.5);
            border-radius: 50%;
        }

        .indicator.active {
            background-color: #fff;
        }

        .shutdown {
            position: absolute;
            right: 5px;
            top: 160px;
            height: 100px;
            background: black;
            border-radius: 20px;
            border: none;
            width: 10px;
            z-index: 9999999;
            transition: 0.2s;
        }

        /* Animations */
        @keyframes unlock-animation {
            from {
                transform: translateY(100%);
            }

            to {
                transform: translateY(0);
            }
        }

        @keyframes app-entry {
            to {
                opacity: 1;
                transform: scale(1);
            }
        }

        button {
            -webkit-tap-highlight-color: transparent;
            transition: 0.2s;
        }

        button.active {
            background: rgb(255, 255, 255);
        }

        #shutdown:active {
            background: white;
        }

        /* Écran de l'application */
        /* Écran de l'application */
        .app-screen {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background-color: #fff;
            z-index: 2000;
            display: none;
            overflow-y: auto;
            overflow-x: hidden;
            /* Permettre le défilement vertical */
            -webkit-overflow-scrolling: touch;
            /* Défilement fluide sur iOS */
        }


        /* Contenu de l'application */
        .app-content {
            position: relative;
            width: 90%;
            height: 100%;
            padding: 20px;
        }

        /* Animation d'ouverture de l'application */
        .app-opening {
            animation: app-open-animation 0.3s forwards;
        }

        @keyframes app-open-animation {
            from {
                transform: translate(var(--app-x), var(--app-y)) scale(var(--app-scale));
                border-radius: 30px;
            }

            to {
                transform: translate(0, 0) scale(1);
                border-radius: 0px;
            }
        }

        /* Animation de fermeture de l'application */
        .app-closing {
            animation: app-close-animation 0.3s forwards;
        }

        @keyframes app-close-animation {
            from {
                transform: translate(0, 0) scale(1);
                border-radius: 0px;
            }

            to {
                transform: translate(var(--app-x), var(--app-y)) scale(0);
                border-radius: 30px;
            }
        }

        /* Styles pour l'application Calendrier */
        /* Styles pour l'application Calendrier améliorée */
        .calendar {
            padding: 20px;
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            color: #333;
            max-width: 100%;
            box-sizing: border-box;
        }

        .calendar-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
        }

        .calendar-header h2 {
            margin: 0;
            font-size: 24px;
        }

        .calendar-header button {
            background: none;
            border: none;
            font-size: 24px;
            cursor: pointer;
            color: #007aff;
            transition: color 0.3s;
        }

        .calendar-header button:hover {
            color: #005bb5;
        }

        .calendar-view-selector {
            margin-top: 10px;
            display: flex;
            justify-content: center;
            gap: 10px;
        }

        .calendar-view-selector button {
            background-color: #e0e0e0;
            border: none;
            padding: 8px 16px;
            cursor: pointer;
            border-radius: 5px;
            transition: background-color 0.3s;
        }

        .calendar-view-selector button.active,
        .calendar-view-selector button:hover {
            background-color: #007aff;
            color: #fff;
        }

        .calendar table {
            width: 100%;
            border-collapse: collapse;
            margin-top: 20px;
        }

        .calendar th,
        .calendar td {
            width: 14.28%;
            height: 80px;
            text-align: center;
            vertical-align: middle;
            border: 1px solid #ddd;
            position: relative;
            transition: background-color 0.3s;
        }

        .calendar th {
            background-color: #f0f0f0;
            font-weight: normal;
            color: #666;
        }

        .calendar td {
            font-size: 16px;
            cursor: pointer;
            background-color: #fff;
        }

        .calendar td.today {
            background-color: #cce5ff;
        }

        .calendar td:hover {
            background-color: #e6f7ff;
        }

        .event-dot {
            width: 6px;
            height: 6px;
            background-color: red;
            border-radius: 50%;
            position: absolute;
            bottom: 8px;
            left: 50%;
            transform: translateX(-50%);
        }

        .yearly-view {
            display: flex;
            flex-wrap: wrap;
            justify-content: center;
        }

        .monthly-mini {
            width: calc(33.33% - 20px);
            margin: 10px;
            box-sizing: border-box;
            border: 1px solid #ddd;
            border-radius: 10px;
            overflow: hidden;
        }

        .monthly-mini h3 {
            margin: 0;
            padding: 10px;
            background-color: #007aff;
            color: #fff;
            font-size: 16px;
        }

        .monthly-mini table {
            width: 100%;
            border-collapse: collapse;
        }

        .monthly-mini th,
        .monthly-mini td {
            width: 14.28%;
            height: 40px;
            text-align: center;
            vertical-align: middle;
            border: 1px solid #ddd;
            font-size: 12px;
            position: relative;
        }

        .monthly-mini th {
            background-color: #f0f0f0;
            color: #666;
        }

        .daily-view {
            margin-top: 20px;
        }

        .daily-view h3 {
            font-size: 20px;
            margin-bottom: 10px;
        }

        .daily-view ul {
            list-style: none;
            padding: 0;
        }

        .daily-view li {
            background-color: #f9f9f9;
            margin-bottom: 5px;
            padding: 10px;
            border-radius: 5px;
            position: relative;
        }

        .daily-view li:hover {
            background-color: #e6f7ff;
        }

        .daily-view li .delete-event-btn {
            position: absolute;
            top: 8px;
            right: 10px;
            background: none;
            border: none;
            color: red;
            font-size: 16px;
            cursor: pointer;
        }

        #add-event-btn {
            background-color: #007aff;
            color: #fff;
            border: none;
            padding: 12px 20px;
            cursor: pointer;
            border-radius: 5px;
            margin-top: 10px;
            width: 100%;
            font-size: 16px;
            transition: background-color 0.3s;
        }

        #add-event-btn:hover {
            background-color: #005bb5;
        }

        .calendar-event-modal {
            position: fixed;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background: rgba(0, 0, 0, 0.5);
            display: flex;
            justify-content: center;
            align-items: center;
            z-index: 2000;
        }

        .calendar-event-modal .modal-content {
            background: #fff;
            padding: 20px;
            width: 80%;
            max-width: 400px;
            border-radius: 10px;
        }

        .calendar-event-modal h3 {
            margin-top: 0;
        }

        .calendar-event-modal input[type="text"] {
            width: 90%;
            padding: 10px;
            margin-top: 10px;
            font-size: 16px;
            border: 1px solid #ccc;
            border-radius: 5px;
        }

        .calendar-event-modal button {
            margin-top: 20px;
            padding: 10px;
            width: 100%;
            font-size: 16px;
            cursor: pointer;
            border: none;
            background-color: #007aff;
            color: #fff;
            border-radius: 5px;
            transition: background-color 0.3s;
        }

        .calendar-event-modal button:hover {
            background-color: #005bb5;
        }

        .calendar-event-modal button.cancel {
            background-color: #ccc;
        }

        .calendar-event-modal button.cancel:hover {
            background-color: #999;
        }

        iframe {
            width: 100%;
            height: 100%;
        }

        /* Centre de Contrôle */
        .control-center {
            position: fixed;
            top: -100%;
            right: 0;
            width: 100%;
            height: 100%;
            backdrop-filter: blur(20px);
            transition: top 0.3s ease;
            z-index: 2500;
            overflow: hidden;
        }

        .control-center.visible {
            top: 0;
        }

        .control-center-handle {
            width: 40px;
            height: 5px;
            background: rgba(255, 255, 255, 0.6);
            border-radius: 2.5px;
            margin: 10px auto;
        }

        .control-center-content {
            display: flex;
            flex-direction: column;
            align-items: center;
            padding: 10px;
        }

        .control-group {
            display: flex;
            justify-content: center;
            margin: 20px 0;
            gap: 15px;
        }

        .control {
            display: flex;
            flex-direction: column;
            align-items: center;
            width: 70px;
            height: 70px;
            background: rgba(255, 255, 255, 0.2);
            border-radius: 20px;
            backdrop-filter: blur(10px);
            cursor: pointer;
            transition: background 0.3s;
            transition: 0.2s;
            filter: invert(100%);
        }

        .control.togglable.active {
            background: rgba(0, 126, 154, 0.4);
            transform: scale(1.1);
            filter: invert(0%);
        }

        #airplane-mode.active {
            background: rgba(248, 161, 0, 0.4);
            filter: invert(0%);
        }

        .control .icon {
            width: 50px;
            height: 50px;
            margin-top: 10px;
            background-size: contain;
            background-repeat: no-repeat;
            background-position: center;
            /* filter: invert(100%); */
        }

        /* .control span {
            margin-top: 5px;
            font-size: 12px;
            color: #fff;
            text-align: center;
        } */

        .sliders {
            display: flex;
            flex-direction: column;
            align-items: center;
            gap: 20px;
            margin: 20px 0;
            background: #33333382;
            border-radius: 25px;
            padding: 20px;
        }

        .slider-container {
            display: flex;
            flex-direction: column;
            align-items: center;
        }

        .slider-container .icon {
            width: 70px;
            height: 70px;
            margin-bottom: 10px;
            background-size: contain;
            background-repeat: no-repeat;
            background-position: center;
        }

        .slider-container input[type="range"] {
            -webkit-appearance: none;
            width: 200px;
            height: 4px;
            background: rgba(255, 255, 255, 0.6);
            border-radius: 2px;
            outline: none;
        }

        .slider-container input[type="range"]::-webkit-slider-thumb {
            -webkit-appearance: none;
            width: 20px;
            height: 20px;
            background: #fff;
            border-radius: 50%;
            cursor: pointer;
        }

        .slider-container input[type="range"]::-moz-range-thumb {
            width: 20px;
            height: 20px;
            background: #fff;
            border-radius: 50%;
            cursor: pointer;
        }

        /* Icônes personnalisées */
        .icon.airplane {
            background-image: url('icons/plane.png');
        }

        .icon.cellular {
            background-image: url('icons/cellular.png');
        }

        .icon.wifi {
            background-image: url('icons/wifi.png');
        }

        .icon.bluetooth {
            background-image: url('icons/bluetooth.png');
        }

        .icon.brightness {
            background-image: url('icons/brightness.png');
        }

        .icon.volume {
            background-image: url('icons/volume.png');
        }

        .icon.mirroring {
            background-image: url('icons/mirroring.png');
        }

        .icon.rotation {
            background-image: url('icons/rotation.png');
        }

        .icon.music {
            background-image: url('icons/music.png');
        }

        /* Suppression du défilement de l'arrière-plan */
        body.control-center-open {
            overflow: hidden;
        }

        .Explore h1 {
            margin-top: 40%;
            color: #333;
            font-size: 3rem;
            text-align: center;
            font-family: Impact, Haettenschweiler, 'Arial Narrow Bold', sans-serif;
            margin-bottom: 2rem;
        }

        .Explore form {
            display: flex;
            width: 100%;
            border-radius: 50px;
            overflow: hidden;
            background: #fff;
            box-shadow: 0px 10px 20px rgba(0, 0, 0, 0.2);
            transition: box-shadow 0.3s ease-in-out;
        }

        .Explore form:hover {
            box-shadow: 0px 15px 25px rgba(0, 0, 0, 0.3);
        }

        .Explore input[type="text"] {
            border: none;
            padding: 1rem 2rem;
            font-size: 1.2rem;
            flex: 1;
            outline: none;
        }

        .Explore button {
            background: #333;
            border: none;
            border-radius: 50px;
            width: 10rem;
            height: 3rem;
            font-size: 1.2rem;
            color: #fff;
            cursor: pointer;
            position: absolute;
            left: calc(50% - 5rem);
            top: calc(50% - 1.5rem);
        }

        .Explore button:hover {
            background: rgb(55, 55, 55);
        }
    </style>
</head>

<body>
    <!-- Bouton pour déverrouiller -->
    <button id="main-btn" class="main-btn"></button>
    <div id="shutdown" class="shutdown"></div>

    <!-- Écran de verrouillage -->
    <div class="lock-screen">
        <div class="time-container" id="time-container">
            <div id="time"></div>
            <div id="date"></div>
        </div>
        <div id="digicode" class="digicode hidden">
            <div class="dots">
                <span class="dot" id="dot-1"></span>
                <span class="dot" id="dot-2"></span>
                <span class="dot" id="dot-3"></span>
                <span class="dot" id="dot-4"></span>
                <span class="dot" id="dot-5"></span>
                <span class="dot" id="dot-6"></span>
            </div>
            <div class="keypad">
                <button class="key" data-number="1">1</button>
                <button class="key" data-number="2">2</button>
                <button class="key" data-number="3">3</button>
                <button class="key" data-number="4">4</button>
                <button class="key" data-number="5">5</button>
                <button class="key" data-number="6">6</button>
                <button class="key" data-number="7">7</button>
                <button class="key" data-number="8">8</button>
                <button class="key" data-number="9">9</button>
                <button class="key-void"></button>
                <button class="key" data-number="0">0</button>
                <button id="clear-btn" class="key clear">Effacer</button>
            </div>
        </div>
    </div>

    <!-- Écran d'accueil ici -->
    <!-- Écran d'accueil -->
    <div id="home-screen" class="home-screen hidden">
        <!-- Pages d'applications -->
        <div class="pages">
            <!-- Page 1 -->
            <div class="page">
                <div class="app-grid">
                    <!-- Applications de la page 1 -->
                    <div class="app" data-app="Calendrier">
                        <img src="app-icons/calendar.png" alt="Calendrier">
                        <span>Calendrier</span>
                    </div>
                    <div class="app" data-app="Messages">
                        <img src="app-icons/openlogo.jpg" alt="Messages">
                        <span>Messages</span>
                    </div>

                    <!-- Ajoutez jusqu'à 24 applications ici -->
                    <!-- ... -->
                </div>
            </div>
            <!-- Page 2 -->
            <div class="page">
                <div class="app-grid">
                    <!-- Applications de la page 2 -->
                    <div class="app" data-app="Navigateur">
                        <img src="app-icons/EXPLORE.png" alt="Navigateur">
                        <span>Explore</span>
                    </div>
                    <!-- Ajoutez jusqu'à 24 applications ici -->
                    <!-- ... -->
                </div>
            </div>
        </div>
        <!-- Indicateurs de page -->
        <div class="page-indicators">
            <span class="indicator active"></span>
            <span class="indicator"></span>
        </div>
        <!-- Barre des tâches -->
        <div class="dock">
            <div class="dock-app app" data-app="Settings">
                <img src="app-icons/settings.png" alt="Settings">
            </div>
            <!-- Ajoutez jusqu'à 4 applications ici -->
            <!-- ... -->
        </div>
    </div>

    <!-- Écran de l'application -->
    <div id="app-screen" class="app-screen hidden">
        <div id="app-content" class="app-content"></div>
    </div>

    <!-- Centre de Contrôle -->
    <div id="control-center" class="control-center hidden">
        <div class="control-center-handle"></div>
        <div class="control-center-content">
            <!-- Groupe supérieur des contrôles -->
            <div class="control-group">
                <div class="control togglable" id="airplane-mode">
                    <div class="icon airplane"></div>
                </div>
                <div class="control togglable active" id="cellular-data">
                    <div class="icon cellular"></div>
                </div>
                <div class="control togglable active" id="wifi">
                    <div class="icon wifi"></div>
                </div>
                <div class="control togglable active" id="bluetooth">
                    <div class="icon bluetooth"></div>
                </div>
            </div>
            <!-- Curseurs -->
            <div class="sliders">
                <div class="slider-container">
                    <div class="icon brightness"></div>
                    <input type="range" id="brightness-slider" min="15" max="100" value="100">
                </div>
                <div class="slider-container">
                    <div class="icon volume"></div>
                    <input type="range" id="volume-slider" min="0" max="100" value="50">
                </div>
            </div>
            <!-- Contrôles supplémentaires -->
            <div class="control-group">
                <div class="control togglable" id="screen-mirroring">
                    <div class="icon mirroring"></div>
                </div>
                <div class="control togglable" id="rotation-lock">
                    <div class="icon rotation"></div>
                </div>
                <div class="control togglable" id="music-control">
                    <div class="icon music"></div>
                </div>
            </div>
        </div>
    </div>

    <button style="position: absolute;bottom: 100px;right: 20px;opacity: 0;" onclick="faceID()">Face ID</button>

    <script>
        document.addEventListener("click", function () {
            document.body.style.height = window.innerHeight + "px";
            document.getElementById("home-screen").style.height = window.innerHeight + "px";

            /////////////////////////////////////

            const touch = e.touches[0];
            startXo = touch.clientX;
            startY = touch.clientY;
            isSwiping = startXo > window.innerWidth * 0.75 && startY < window.innerHeight * 0.25;

        });

        if ('serviceWorker' in navigator) {
            navigator.serviceWorker.register('./sw.js').then(() => {
                console.log("Service Worker enregistré !");
            }).catch((error) => {
                console.error("Erreur lors de l'enregistrement du Service Worker :", error);
            });
        }
    </script>

    <script>
        function faceID() {
            alert("face ID used")
            showHomeScreen();
        }
        //set
        let blockInternet = false
        const timeElement = document.getElementById('time');
        const dateElement = document.getElementById('date');
        const unlockBtn = document.getElementById('main-btn');
        const digicode = document.getElementById('digicode');
        const dots = document.querySelectorAll('.dot');
        const keys = document.querySelectorAll('.key');
        const clearBtn = document.getElementById('clear-btn');
        // Sélection des éléments nécessaires
        const appElements = document.querySelectorAll('.app');
        const appScreen = document.getElementById('app-screen');
        const appContent = document.getElementById('app-content');

        appElements.forEach(app => {
            app.addEventListener('click', (e) => {
                // Obtenir la position et la taille de l'application cliquée
                const appRect = app.getBoundingClientRect();

                // Calculer la position initiale pour l'animation
                const appX = appRect.left;
                const appY = appRect.top;
                const appWidth = appRect.width;
                const appHeight = appRect.height;

                // Calculer l'échelle par rapport à l'écran
                const scaleX = appWidth / window.innerWidth;
                const scaleY = appHeight / window.innerHeight;
                const scale = scaleX; // Choix de l'échelle pour un effet réaliste

                // Définir les variables CSS pour l'animation
                appScreen.style.setProperty('--app-x', `${appX}px`);
                appScreen.style.setProperty('--app-y', `${appY}px`);
                appScreen.style.setProperty('--app-scale', scale);

                // Charger le contenu spécifique de l'application
                // Charger le contenu de l'application
                const appName = app.getAttribute('data-app');

                switch (appName) {
                    case 'Calendrier':
                        loadCalendarApp()
                        break;
                    case 'Messages':
                        // appContent.innerHTML = `<h1>Messages</h1><p>Vos messages s'afficheront ici...</p>`;
                        if (blockInternet) {
                            appContent.innerHTML = "<h1 style='color: orange;'>Désactivez le mode avion pour discuter avec vos amis sur OpenChat</h1>"
                        } else {
                            appContent.innerHTML = '<iframe src="https://openchat-df87.onrender.com" frameborder="0"></iframe>'
                        }
                        break;
                    case 'Navigateur':
                        if (blockInternet) {
                            appContent.innerHTML = '<h1 style="color: orange;">Vous ne pouvez pas naviguer sur le web en mode avion</h1>'
                        } else {
                            appContent.innerHTML = `
                            <div class="Explore">
                                <h1>Explore</h1>
                                <form onsubmit="performSearch(event)">
                                    <input type="text" id="searchInput" placeholder="Rechercher...">
                                    <button type="submit" id="searcherExplore">Rechercher</button>
                                </form>
                            </div>
                            `
                        }
                        break;
                    // Ajoutez d'autres cas pour chaque application
                    default:
                        appContent.innerHTML = `<h1>${appName}</h1><p>Contenu de l'application ${appName}.</p>`;
                }


                // Afficher l'écran de l'application
                appScreen.style.display = 'block';
                appScreen.classList.remove('hidden');

                // Démarrer l'animation d'ouverture
                appScreen.classList.add('app-opening');
            });
        });

        function closeApp() {
            const appScreen = document.getElementById('app-screen');

            // Démarrer l'animation de fermeture
            appScreen.classList.remove('app-opening');
            appScreen.classList.add('app-closing');

            // Attendre la fin de l'animation pour cacher l'écran
            appScreen.addEventListener('animationend', () => {
                appScreen.style.display = 'none';
                appScreen.classList.remove('app-closing');
            }, { once: true });
        }


        //apps

        function loadCalendarApp() {
            const now = new Date();
            let currentView = 'monthly'; // 'yearly', 'monthly', 'daily'
            let selectedDate = new Date();
            let events = JSON.parse(localStorage.getItem('calendarEvents')) || {};

            const monthNames = [
                'Janvier', 'Février', 'Mars', 'Avril', 'Mai', 'Juin',
                'Juillet', 'Août', 'Septembre', 'Octobre', 'Novembre', 'Décembre'
            ];

            const daysOfWeek = ['Lun', 'Mar', 'Mer', 'Jeu', 'Ven', 'Sam', 'Dim'];

            function saveEvents() {
                localStorage.setItem('calendarEvents', JSON.stringify(events));
            }

            function renderCalendar() {
                let calendarHTML = '<div class="calendar">';

                // En-tête du calendrier
                calendarHTML += `
            <div class="calendar-header">
                <button id="prev-period">&lt;</button>
                <h2 id="calendar-title"></h2>
                <button id="next-period">&gt;</button>
            </div>
        `;

                // Sélecteur de vue
                calendarHTML += `
            <div class="calendar-view-selector">
                <button data-view="yearly"${currentView === 'yearly' ? ' class="active"' : ''}>Année</button>
                <button data-view="monthly"${currentView === 'monthly' ? ' class="active"' : ''}>Mois</button>
                <button data-view="daily"${currentView === 'daily' ? ' class="active"' : ''}>Jour</button>
            </div>
        `;

                // Contenu du calendrier selon la vue
                if (currentView === 'monthly') {
                    calendarHTML += generateMonthlyView(selectedDate);
                } else if (currentView === 'yearly') {
                    calendarHTML += generateYearlyView(selectedDate);
                } else if (currentView === 'daily') {
                    calendarHTML += generateDailyView(selectedDate);
                }

                calendarHTML += '</div>';
                appContent.innerHTML = calendarHTML;

                // Mettre à jour le titre
                updateCalendarTitle();

                // Ajouter les écouteurs d'événements
                addCalendarEventListeners();
            }

            function generateMonthlyView(date) {
                const month = date.getMonth();
                const year = date.getFullYear();

                // Obtenir le premier jour du mois
                let firstDay = new Date(year, month, 1).getDay();
                // Ajuster pour que Lundi soit le premier jour
                firstDay = (firstDay + 6) % 7;
                // Obtenir le nombre de jours dans le mois
                const daysInMonth = new Date(year, month + 1, 0).getDate();

                let html = '<table>';
                html += '<tr>';

                // Ajouter les jours de la semaine
                for (let i = 0; i < daysOfWeek.length; i++) {
                    html += `<th>${daysOfWeek[i]}</th>`;
                }
                html += '</tr><tr>';

                // Ajouter des cellules vides jusqu'au premier jour
                let dayOfWeek = 0;
                for (let i = 0; i < firstDay; i++) {
                    html += '<td></td>';
                    dayOfWeek++;
                }

                // Ajouter les jours du mois
                for (let day = 1; day <= daysInMonth; day++) {
                    const currentDate = new Date(year, month, day);
                    const dateString = currentDate.toDateString();
                    const isToday = currentDate.toDateString() === now.toDateString();
                    const hasEvent = events[dateString] && events[dateString].length > 0;

                    html += `<td${isToday ? ' class="today"' : ''} data-date="${currentDate}">
                        ${day}
                        ${hasEvent ? '<div class="event-dot"></div>' : ''}
                     </td>`;
                    dayOfWeek++;
                    if (dayOfWeek % 7 === 0 && day !== daysInMonth) {
                        html += '</tr><tr>';
                    }
                }

                // Compléter la dernière ligne du calendrier
                while (dayOfWeek % 7 !== 0) {
                    html += '<td></td>';
                    dayOfWeek++;
                }

                html += '</tr>';
                html += '</table>';
                return html;
            }

            function generateYearlyView(date) {
                const year = date.getFullYear();
                let html = '<div class="yearly-view">';

                for (let month = 0; month < 12; month++) {
                    const monthDate = new Date(year, month, 1);
                    html += '<div class="monthly-mini">';
                    html += `<h3>${monthNames[month]}</h3>`;
                    html += generateMonthlyView(monthDate);
                    html += '</div>';
                }

                html += '</div>';
                return html;
            }

            function generateDailyView(date) {
                const dateString = date.toDateString();
                const eventsForDay = events[dateString] || [];
                let html = '<div class="daily-view">';
                html += `<h3>${date.getDate()} ${monthNames[date.getMonth()]} ${date.getFullYear()}</h3>`;
                html += '<ul>';

                if (eventsForDay.length === 0) {
                    html += '<li>Aucun événement</li>';
                } else {
                    eventsForDay.forEach((event, index) => {
                        html += `<li>
                            ${event}
                            <button class="delete-event-btn" data-event-index="${index}">&times;</button>
                         </li>`;
                    });
                }

                html += '</ul>';
                html += '<button id="add-event-btn">Ajouter un événement</button>';
                html += '</div>';
                return html;
            }

            function updateCalendarTitle() {
                const titleElement = document.getElementById('calendar-title');
                if (currentView === 'monthly') {
                    titleElement.textContent = `${monthNames[selectedDate.getMonth()]} ${selectedDate.getFullYear()}`;
                } else if (currentView === 'yearly') {
                    titleElement.textContent = `${selectedDate.getFullYear()}`;
                } else if (currentView === 'daily') {
                    titleElement.textContent = `${selectedDate.getDate()} ${monthNames[selectedDate.getMonth()]} ${selectedDate.getFullYear()}`;
                }
            }

            function addCalendarEventListeners() {
                // Navigation
                document.getElementById('prev-period').addEventListener('click', () => {
                    if (currentView === 'monthly') {
                        selectedDate.setMonth(selectedDate.getMonth() - 1);
                    } else if (currentView === 'yearly') {
                        selectedDate.setFullYear(selectedDate.getFullYear() - 1);
                    } else if (currentView === 'daily') {
                        selectedDate.setDate(selectedDate.getDate() - 1);
                    }
                    renderCalendar();
                });

                document.getElementById('next-period').addEventListener('click', () => {
                    if (currentView === 'monthly') {
                        selectedDate.setMonth(selectedDate.getMonth() + 1);
                    } else if (currentView === 'yearly') {
                        selectedDate.setFullYear(selectedDate.getFullYear() + 1);
                    } else if (currentView === 'daily') {
                        selectedDate.setDate(selectedDate.getDate() + 1);
                    }
                    renderCalendar();
                });

                // Sélecteur de vue
                const viewButtons = document.querySelectorAll('.calendar-view-selector button');
                viewButtons.forEach(button => {
                    button.addEventListener('click', () => {
                        currentView = button.getAttribute('data-view');
                        renderCalendar();
                    });
                });

                // Ajouter un événement
                if (currentView === 'daily') {
                    document.getElementById('add-event-btn').addEventListener('click', () => {
                        openEventModal(selectedDate);
                    });

                    // Suppression d'un événement
                    const deleteButtons = document.querySelectorAll('.delete-event-btn');
                    deleteButtons.forEach(button => {
                        button.addEventListener('click', (e) => {
                            const eventIndex = e.target.getAttribute('data-event-index');
                            deleteEvent(selectedDate, eventIndex);
                        });
                    });
                }

                // Clic sur une date
                const dateCells = document.querySelectorAll('td[data-date]');
                dateCells.forEach(cell => {
                    cell.addEventListener('click', () => {
                        const date = new Date(cell.getAttribute('data-date'));
                        selectedDate = date;
                        if (currentView !== 'daily') {
                            currentView = 'daily';
                            renderCalendar();
                        } else {
                            openEventModal(date);
                        }
                    });
                });
            }

            function openEventModal(date) {
                const dateString = date.toDateString();
                let modalHTML = '<div class="calendar-event-modal">';
                modalHTML += '<div class="modal-content">';
                modalHTML += `<h3>Ajouter un événement pour le ${date.getDate()} ${monthNames[date.getMonth()]} ${date.getFullYear()}</h3>`;
                modalHTML += '<input type="text" id="event-text" placeholder="Titre de l\'événement">';
                modalHTML += '<button id="save-event-btn">Enregistrer</button>';
                modalHTML += '<button id="cancel-event-btn" class="cancel">Annuler</button>';
                modalHTML += '</div></div>';

                document.body.insertAdjacentHTML('beforeend', modalHTML);

                document.getElementById('save-event-btn').addEventListener('click', () => {
                    const eventText = document.getElementById('event-text').value.trim();
                    if (eventText !== '') {
                        if (!events[dateString]) {
                            events[dateString] = [];
                        }
                        events[dateString].push(eventText);
                        saveEvents();
                        document.querySelector('.calendar-event-modal').remove();
                        renderCalendar();
                    }
                });

                document.getElementById('cancel-event-btn').addEventListener('click', () => {
                    document.querySelector('.calendar-event-modal').remove();
                });
            }

            function deleteEvent(date, index) {
                const dateString = date.toDateString();
                events[dateString].splice(index, 1);
                if (events[dateString].length === 0) {
                    delete events[dateString];
                }
                saveEvents();
                renderCalendar();
            }

            // Initialiser le calendrier
            renderCalendar();
        }

        function performSearch(event) {
            event.preventDefault();
            const query = document.getElementById('searchInput').value;
            if (query.trim() !== '') {
                window.location.href = `https://duckduckgo.com/?q=${encodeURIComponent(query)}`;
            }
        }



        //javascript

        var boutons = document.querySelectorAll('button');
        var ageudibouda = document.getElementById('shutdown');

        boutons.forEach(function (bouton) {
            bouton.addEventListener('touchstart', function () {
                this.classList.add('active');
            });
            bouton.addEventListener('touchend', function () {
                this.classList.remove('active');
            });
        });
        ageudibouda.addEventListener("click", () => {
            window.location.reload()
        })
        ageudibouda.addEventListener('touchstart', function () {
            this.classList.add('active');
        });
        ageudibouda.addEventListener('touchend', function () {
            this.classList.remove('active');
        });

        // Variables pour l'écran de verrouillage

        const correctCode = '161209';
        let enteredCode = '';

        function updateTimeAndDate() {
            const now = new Date();
            const hours = now.getHours().toString().padStart(2, '0');
            const minutes = now.getMinutes().toString().padStart(2, '0');
            const date = now.toLocaleDateString('fr-FR', { weekday: 'long', day: 'numeric', month: 'long' });

            timeElement.textContent = `${hours}:${minutes}`;
            dateElement.textContent = date;
        }

        setInterval(updateTimeAndDate, 1000);
        updateTimeAndDate();

        unlockBtn.addEventListener('click', () => {
            const appScreen = document.getElementById('app-screen');

            if (appScreen.style.display === 'block') {
                // Si l'application est ouverte, fermer l'application
                closeApp();
            } else if (digicode.classList.contains('hidden')) {
                // Afficher le digicode
                digicode.classList.remove('hidden');
                document.getElementById("time-container").style.filter = "blur(7px)";
            } else {
                // Masquer le digicode
                digicode.classList.add('hidden');
                document.getElementById("time-container").style.filter = "blur(0px)";
            }
        });


        keys.forEach(key => {
            key.addEventListener('click', () => {
                if (key.dataset.number) {
                    if (enteredCode.length < 6) {
                        enteredCode += key.dataset.number;
                        dots[enteredCode.length - 1].classList.add('filled');

                        if (enteredCode.length === 6) {
                            if (enteredCode === correctCode) {
                                // Déverrouiller l'écran
                                // alert("Code correct");
                                showHomeScreen();
                            } else {
                                alert('Code incorrect');
                            }
                            resetCode();
                        }
                    }
                }
            });
        });

        clearBtn.addEventListener('click', resetCode);

        function resetCode() {
            enteredCode = '';
            dots.forEach(dot => dot.classList.remove('filled'));
        }

        function showHomeScreen() {
            const lockScreen = document.querySelector('.lock-screen');
            const homeScreen = document.getElementById('home-screen');

            // Animation de l'écran de verrouillage qui glisse vers le haut
            lockScreen.style.transition = 'transform 0.5s ease';
            lockScreen.style.transform = 'translateY(-100%)';

            // Afficher l'écran d'accueil après l'animation
            setTimeout(() => {
                lockScreen.style.display = 'none';
                homeScreen.classList.remove('hidden');

                // Animation d'entrée des applications
                const apps = document.querySelectorAll('.app');
                apps.forEach((app, index) => {
                    app.style.setProperty('--app-order', index);
                });
            }, 500);
        }

        // Navigation entre les pages
        let currentPage = 0;
        const pages = document.querySelector('.pages');
        const indicators = document.querySelectorAll('.indicator');

        // Ajouter des écouteurs pour le glissement (swipe)
        let startX = 0;
        pages.addEventListener('touchstart', (e) => {
            startX = e.touches[0].clientX;
        });

        pages.addEventListener('touchend', (e) => {
            let endX = e.changedTouches[0].clientX;
            if (startX - endX > 50 && currentPage < 1) {
                // Aller à la page suivante
                currentPage++;
            } else if (endX - startX > 50 && currentPage > 0) {
                // Aller à la page précédente
                currentPage--;
            }
            pages.style.transform = `translateX(-${currentPage * 50}%)`;
            indicators.forEach((indicator, index) => {
                indicator.classList.toggle('active', index === currentPage);
            });
        });

        // Exemple d'appel de la fonction lors du déverrouillage
        // Remplacez l'alerte "Code correct" par showHomeScreen()
        // Dans votre code de l'écran de verrouillage :
        // if (enteredCode === correctCode) {
        //     showHomeScreen();
        // }

        // Pour démonstration, appelons la fonction après 2 secondes
        // Supprimez cette ligne dans votre implémentation réelle
        // setTimeout(showHomeScreen, 2000);
    </script>

    <script>
        // Variables du Centre de Contrôle
        const controlCenter = document.getElementById('control-center');
        const togglableControls = document.querySelectorAll('.control.togglable');
        const airplaneMode = document.getElementById('airplane-mode');
        const wifiControl = document.getElementById('wifi');
        const bluetoothControl = document.getElementById('bluetooth');
        const cellularDataControl = document.getElementById('cellular-data');
        const rotationLock = document.getElementById('rotation-lock');

        // Gestion du Mode Avion
        airplaneMode.addEventListener('click', () => {
            airplaneMode.classList.toggle('active');
            const isActive = airplaneMode.classList.contains('active');

            if (isActive) {
                blockInternet = true
                // Désactiver les autres contrôles
                wifiControl.classList.remove('active');
                bluetoothControl.classList.remove('active');
                cellularDataControl.classList.remove('active');
            } else {
                blockInternet = false
                // Réactiver les contrôles précédemment activés
                wifiControl.classList.add('active');
                bluetoothControl.classList.add('active');
                cellularDataControl.classList.add('active');
            }
        });

        // Gestion des autres contrôles togglables
        togglableControls.forEach(control => {
            if (control.id !== 'airplane-mode') {
                control.addEventListener('click', () => {
                    // if (!airplaneMode.classList.contains('active')) {
                    control.classList.toggle('active');
                    // }
                });
            }
        });

        // Gestion des curseurs
        const brightnessSlider = document.getElementById('brightness-slider');
        const volumeSlider = document.getElementById('volume-slider');

        brightnessSlider.addEventListener('input', (e) => {
            const brightnessValue = e.target.value;
            document.body.style.filter = `brightness(${brightnessValue}%)`;
        });

        volumeSlider.addEventListener('input', (e) => {
            const volumeValue = e.target.value;
            // Ajouter le code pour ajuster le volume si nécessaire
        });

        // Ouverture du Centre de Contrôle par balayage
        let startXo = 0;
        let startY = 0;
        let isSwiping = false;

        document.addEventListener('touchstart', (e) => {
            const touch = e.touches[0];
            startXo = touch.clientX;
            startY = touch.clientY;
            isSwiping = startXo > window.innerWidth * 0.75 && startY < window.innerHeight * 0.25;
        });

        document.addEventListener('touchmove', (e) => {
            if (!isSwiping) return;

            const touch = e.touches[0];
            const deltaY = touch.clientY - startY;

            if (deltaY > 50) {
                controlCenter.classList.add('visible');
                document.body.classList.add('control-center-open');
                isSwiping = false;
            }
        });

        // Fermer le Centre de Contrôle en tapant en dehors ou en balayant vers le haut
        controlCenter.addEventListener('click', (e) => {
            if (e.target === controlCenter) {
                controlCenter.classList.remove('visible');
                document.body.classList.remove('control-center-open');
            }
        });

        controlCenter.addEventListener('touchstart', (e) => {
            startY = e.touches[0].clientY;
        });

        controlCenter.addEventListener('touchmove', (e) => {
            const deltaY = e.touches[0].clientY - startY;

            if (deltaY < -50) {
                controlCenter.classList.remove('visible');
                document.body.classList.remove('control-center-open');
            }
        });

        // Empêcher le défilement de l'arrière-plan lorsque le Centre de Contrôle est ouvert
        controlCenter.addEventListener('touchmove', (e) => {
            e.stopPropagation();
        }, { passive: false });
    </script>


</body>

</html>